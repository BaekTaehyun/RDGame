<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íƒ€ ìœ ì € ìºë¦­í„° êµ¬í˜„ ë° ë™ê¸°í™” ê³„íš</title>
    <style>
        :root {
            --bg-primary: #0d1117;
            --bg-secondary: #161b22;
            --text-primary: #c9d1d9;
            --text-secondary: #8b949e;
            --accent-blue: #58a6ff;
            --accent-green: #3fb950;
            --accent-purple: #a371f7;
            --accent-orange: #d29922;
            --border-color: #30363d;
        }

        body {
            font-family: 'Segoe UI', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            padding: 2rem;
            max-width: 1000px;
            margin: 0 auto;
        }

        h1,
        h2,
        h3 {
            color: var(--text-primary);
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 0.5rem;
        }

        h1 {
            font-size: 2.2rem;
            color: var(--accent-blue);
            border-bottom: none;
        }

        h2 {
            margin-top: 2rem;
            color: var(--accent-purple);
        }

        h3 {
            margin-top: 1.5rem;
            font-size: 1.3rem;
            color: var(--accent-green);
            border-bottom: none;
        }

        .card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        code {
            background: rgba(110, 118, 129, 0.4);
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-family: monospace;
            color: var(--accent-orange);
        }

        pre {
            background: var(--bg-secondary);
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            border: 1px solid var(--border-color);
        }

        pre code {
            background: none;
            padding: 0;
            color: var(--text-primary);
        }

        .tag {
            display: inline-block;
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            font-size: 0.8rem;
            background: var(--border-color);
            margin-right: 0.5rem;
        }

        .tag.pros {
            background: rgba(63, 185, 80, 0.2);
            color: var(--accent-green);
        }

        .tag.cons {
            background: rgba(248, 81, 73, 0.2);
            color: #ff7b72;
        }
    </style>
</head>

<body>

    <h1>ğŸš€ íƒ€ ìœ ì € ìºë¦­í„° êµ¬í˜„ ë° ë™ê¸°í™” ê³„íš</h1>
    <p><strong>ì‘ì„±ì¼:</strong> 2025-12-13 | <strong>ëª©í‘œ:</strong> ë„¤ë¹„ê²Œì´ì…˜ ê¸°ë°˜ íƒ€ ìœ ì € ì´ë™ ë™ê¸°í™”</p>

    <div class="card">
        <h3>SUMMARY</h3>
        <p>
            ì‚¬ìš©ìê»˜ì„œëŠ” <code>Variant_Combat</code>ì˜ AI ë¡œì§ì„ ì°¸ê³ í•˜ì—¬, ì„œë²„ë¡œë¶€í„° ë°›ì€ ìœ„ì¹˜ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ
            <strong>íƒ€ ìœ ì €(Remote Player) ìºë¦­í„°</strong>ë¥¼ ì´ë™ì‹œí‚¤ê³ ì í•©ë‹ˆë‹¤.<br>
            ë‹¨ìˆœ ì¢Œí‘œ ë™ê¸°í™”ê°€ ì•„ë‹Œ, <strong>AI Controllerë¥¼ í™œìš©í•œ ë„¤ë¹„ê²Œì´ì…˜ ì´ë™</strong> ë°©ì‹ì„ ì±„íƒí•˜ì—¬
            ì§€í˜•ì§€ë¬¼ì— ìì—°ìŠ¤ëŸ½ê²Œ ë°˜ì‘í•˜ëŠ” ì›€ì§ì„ì„ êµ¬í˜„í•˜ëŠ” ê³„íšì…ë‹ˆë‹¤.
        </p>
    </div>

    <h2>1. ì‹œìŠ¤í…œ êµ¬ì¡° ì œì•ˆ</h2>

    <h3>1.1 í´ë˜ìŠ¤ êµ¬ì¡°</h3>
    <p>íƒ€ ìœ ì €ë¥¼ í‘œí˜„í•˜ê¸° ìœ„í•´ ë‘ ê°€ì§€ ìƒˆë¡œìš´ í´ë˜ìŠ¤ê°€ í•„ìš”í•©ë‹ˆë‹¤.</p>

    <ul>
        <li>
            <strong><code>ARdRemoteCharacter</code></strong> (Character)
            <ul>
                <li><code>ARdGameCharacter</code>ì™€ ì™¸í˜•/ì• ë‹ˆë©”ì´ì…˜ ê³µìœ  (ë˜ëŠ” ê³µí†µ ë¶€ëª¨ ì‚¬ìš©)</li>
                <li>ì§ì ‘ ì…ë ¥(Input)ì„ ë°›ì§€ ì•ŠìŒ</li>
                <li><code>GsNetworkMovementComponent</code>ë¥¼ í†µí•´ ëª©í‘œ ì§€ì  ìˆ˜ì‹ </li>
            </ul>
        </li>
        <li>
            <strong><code>ARdRemoteController</code></strong> (AIController)
            <ul>
                <li>íƒ€ ìœ ì € ìºë¦­í„°ì— ë¹™ì˜(Possess)ë˜ëŠ” AI ì»¨íŠ¸ë¡¤ëŸ¬</li>
                <li><strong>ì—­í• :</strong> ìˆ˜ì‹ ëœ ì¢Œí‘œë¡œ <code>MoveToLocation</code> ëª…ë ¹ ìˆ˜í–‰</li>
                <li>ë„¤ë¹„ê²Œì´ì…˜ ë©”ì‹œ(NavMesh)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¥ì• ë¬¼ íšŒí”¼ ê°€ëŠ¥</li>
            </ul>
        </li>
    </ul>

    <h3>1.2 ë°ì´í„° íë¦„</h3>
    <pre>
[Server] â†’ (Packet: SC_Move) â†’ [GsNetworkManager] 
                                    â†“
                           [GsNetworkMovementComponent] (RemoteCharacter ë‚´)
                                    â†“ ëª©í‘œ ì¢Œí‘œ ì „ë‹¬
                           [RdRemoteController] (AIController)
                                    â†“ MoveToLocation(Dest)
                           [RdRemoteCharacter] (ì•ˆì „í•˜ê²Œ ì´ë™)
    </pre>

    <h2>2. ì´ë™ ì²˜ë¦¬ ë°©ì‹ ë¹„êµ ë° ì„ íƒ</h2>

    <div class="card">
        <h3>ì˜µì…˜ A: ì§ì ‘ ì¢Œí‘œ ë³´ê°„ (Simulation)</h3>
        <p><code>SetActorLocation</code>ì„ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ ìœ„ì¹˜ì—ì„œ ëª©í‘œ ìœ„ì¹˜ë¡œ <code>Lerp</code>(ì„ í˜• ë³´ê°„) í•©ë‹ˆë‹¤.</p>
        <p><span class="tag pros">ì¥ì </span> ë°˜ì‘ ì†ë„ê°€ ë¹ ë¦„, êµ¬í˜„ì´ ë‹¨ìˆœí•¨.</p>
        <p><span class="tag cons">ë‹¨ì </span> ë²½ì„ ëš«ê³  ê°€ê±°ë‚˜ ê³µì¤‘ì— ëœ° ìˆ˜ ìˆìŒ. ë°œ ë¯¸ë„ëŸ¬ì§(Sliding) í˜„ìƒ ë°œìƒ.</p>
    </div>

    <div class="card" style="border-left: 4px solid var(--accent-purple);">
        <h3>ğŸ¯ ì˜µì…˜ B: AI ë„¤ë¹„ê²Œì´ì…˜ ì´ë™ (ê¶Œì¥)</h3>
        <p><code>AAIController::MoveToLocation</code>ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
        <p><span class="tag pros">ì¥ì </span> <strong>Variant_Combat AIì™€ ìœ ì‚¬í•œ ìì—°ìŠ¤ëŸ¬ìš´ ì›€ì§ì„.</strong> ì¥ì• ë¬¼ íšŒí”¼. ì• ë‹ˆë©”ì´ì…˜(ê±·ê¸°/ë›°ê¸°) ìë™
            ì²˜ë¦¬.</p>
        <p><span class="tag cons">ë‹¨ì </span> NavMeshê°€ í•„ìˆ˜. í†µì‹  ì§€ì—° ì‹œ ë©ˆì¹«ê±°ë¦´ ìˆ˜ ìˆìŒ. (ì˜ˆì¸¡ ì´ë™ìœ¼ë¡œ ë³´ì™„ í•„ìš”)</p>
    </div>

    <h2>3. êµ¬í˜„ ìƒì„¸ ê³„íš</h2>

    <h3>Step 1: ìºë¦­í„° í´ë˜ìŠ¤ ë¶„ë¦¬ ë° ìƒì„±</h3>
    <pre><code class="cpp">// RdRemoteCharacter.h
UCLASS()
class ARdRemoteCharacter : public ARdGameCharacter // ë˜ëŠ” ê³µí†µ ë¶€ëª¨
{
    GENERATED_BODY()
public:
    ARdRemoteCharacter();
    // AIController í´ë˜ìŠ¤ ì§€ì •
    // AIControllerClass = ARdRemoteController::StaticClass();
    // AutoPossessAI = EAutoPossessAI::PlacedInWorldOrSpawned;
};</code></pre>

    <h3>Step 2: ë¦¬ëª¨íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ êµ¬í˜„</h3>
    <pre><code class="cpp">// RdRemoteController.h
UCLASS()
class ARdRemoteController : public AAIController
{
    GENERATED_BODY()
public:
    // ëª©í‘œ ì§€ì ìœ¼ë¡œ ì´ë™ ëª…ë ¹
    void MoveToTarget(const FVector& TargetLocation);
};</code></pre>

    <h3>Step 3: GsNetworkMovementComponentì˜ ì—­í•  ë³€ê²½</h3>
    <p>ê¸°ì¡´ì—ëŠ” ì§ì ‘ <code>UpdateComponent</code>ë¥¼ í–ˆì§€ë§Œ, ì´ì œëŠ” <strong>ì „ëµ(Strategy) íŒ¨í„´</strong>ì„ ì‚¬ìš©í•˜ì—¬ ì—­í• ì„ ë¶„ë¦¬í•©ë‹ˆë‹¤.</p>
    <ul>
        <li><strong>Sender (ë‚´ ìºë¦­í„°):</strong> ë‚´ ìœ„ì¹˜ë¥¼ ì„œë²„ë¡œ ì „ì†¡</li>
        <li><strong>Receiver (íƒ€ ìºë¦­í„°):</strong> ë°›ì€ ìœ„ì¹˜ë¥¼ <code>RemoteController</code>ì—ê²Œ <code>MoveTo</code> ëª…ë ¹ìœ¼ë¡œ ì „ë‹¬</li>
    </ul>

    <h3>Step 4: GsNetworkManager ìŠ¤í° ë¡œì§</h3>
    <p><code>HandleUserEnter</code> íŒ¨í‚· ìˆ˜ì‹  ì‹œ:</p>
    <ol>
        <li><code>GetWorld()->SpawnActor&lt;ARdRemoteCharacter&gt;(...)</code></li>
        <li>ìŠ¤í°ëœ ìºë¦­í„°ì˜ <code>GetController()</code>ë¥¼ <code>ARdRemoteController</code>ë¡œ ìºìŠ¤íŒ…</li>
        <li>Mapì— <code>SessionID</code>ì™€ ì•¡í„° ì €ì¥</li>
    </ol>

    <h2>4. ì‹±í¬(Sync) ì´ìŠˆ í•´ê²° ë°©ì•ˆ</h2>
    <p>ìœ ì €ê°€ ë³´ê³  ìˆëŠ” í™”ë©´ê³¼ ì‹¤ì œ ì„œë²„ ìœ„ì¹˜ê°€ ë‹¤ë¥¼ ë•Œì˜ ëŒ€ì²˜:</p>
    <ul>
        <li><strong>ì˜¤ì°¨ ë³´ì •:</strong> <code>MoveTo</code>ë¡œ ì´ë™ ì¤‘, ì‹¤ì œ ì¢Œí‘œì™€ ë„ˆë¬´ ë§ì´ ë²Œì–´ì§€ë©´(ì˜ˆ: 2m ì´ìƒ) ê°•ì œë¡œ
            <code>SetActorLocation</code> í•˜ì—¬ ìœ„ì¹˜ë¥¼ ë§ì¶¥ë‹ˆë‹¤. (í…”ë ˆí¬íŠ¸)</li>
        <li><strong>ì†ë„ ë™ê¸°í™”:</strong> íŒ¨í‚·ì— í¬í•¨ëœ <code>Velocity</code>ë¥¼ ì°¸ê³ í•˜ì—¬ <code>CharacterMovement->MaxWalkSpeed</code>ë¥¼
            ì¡°ì •, ë„ì°© ì‹œê°„ì„ ë§ì¶¥ë‹ˆë‹¤.</li>
    </ul>

</body>

</html>