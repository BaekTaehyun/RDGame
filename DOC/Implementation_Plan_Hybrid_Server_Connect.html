<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>êµ¬í˜„ ê³„íš: ì˜ì—­ ê¸°ë°˜ í•˜ì´ë¸Œë¦¬ë“œ ì„œë²„ ì—°ê²° ì‹œìŠ¤í…œ (Experience ì ìš©)</title>
    <style>
        :root {
            --bg-primary: #0d1117;
            --bg-secondary: #161b22;
            --text-primary: #c9d1d9;
            --text-secondary: #8b949e;
            --accent-blue: #58a6ff;
            --accent-green: #3fb950;
            --accent-purple: #bc8cff;
            --accent-orange: #d29922;
            --border-color: #30363d;
        }

        body {
            font-family: 'Segoe UI', -apple-system, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            padding: 2rem;
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            color: var(--accent-purple);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 0.5rem;
        }

        h2 {
            color: var(--accent-blue);
            margin-top: 2rem;
            border-left: 5px solid var(--accent-blue);
            padding-left: 10px;
        }

        h3 {
            color: var(--text-secondary);
            margin-top: 1.5rem;
        }

        .box {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .tag-badge {
            background-color: var(--accent-orange);
            color: #0d1117;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.85em;
            font-weight: bold;
        }

        pre {
            background: #1f2428;
            padding: 1rem;
            border-radius: 6px;
            overflow-x: auto;
        }

        code {
            font-family: Consolas, monospace;
            color: #ff7b72;
        }
    </style>
</head>

<body>

    <h1>ğŸš€ êµ¬í˜„ ê³„íš: Experience ê¸°ë°˜ í•˜ì´ë¸Œë¦¬ë“œ ì„œë²„ ì—°ê²° ì‹œìŠ¤í…œ</h1>
    <p><strong>ë¬¸ì„œ ê°œìš”:</strong> Lyraì˜ "Experience" ì•„í‚¤í…ì²˜ë¥¼ ê²½ëŸ‰í™”(Lite)í•˜ì—¬ RdGameì— ì ìš©, ë˜ì „ë³„ ì»¨ì…‰ê³¼ UIë¥¼ ë°ì´í„° ê¸°ë°˜ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ì‹œìŠ¤í…œ ì„¤ê³„ì•ˆì…ë‹ˆë‹¤.
    </p>

    <div class="box">
        <h3>ğŸ¯ í•µì‹¬ ëª©í‘œ</h3>
        <ul>
            <li><strong>Lyra-Lite Framework:</strong> ë¬´ê±°ìš´ í”ŒëŸ¬ê·¸ì¸ ì—†ì´ Lyraì˜ Experience(ë°ì´í„° ê¸°ë°˜ ê²½í—˜ ê´€ë¦¬) ì² í•™ êµ¬í˜„</li>
            <li><strong>Data-Driven Design:</strong> ì½”ë“œ ìˆ˜ì • ì—†ì´ ë°ì´í„° ì—ì…‹(DataAsset)ë§Œìœ¼ë¡œ ë˜ì „ë³„ ì„¤ì •(IP, UI, Map) ê´€ë¦¬</li>
            <li><strong>Seamless Transition:</strong> ì„¸ì…˜ ì„œë¸Œì‹œìŠ¤í…œì„ í†µí•œ ë§¤ë„ëŸ¬ìš´ ë„¤íŠ¸ì›Œí¬ ì „í™˜</li>
        </ul>
    </div>

    <h2>1. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ (System Architecture)</h2>
    <p>í•˜ë“œì½”ë”©ëœ IP ì ‘ì† ë°©ì‹ì—ì„œ ë²—ì–´ë‚˜, <strong>"ê²½í—˜(Experience)ì„ ìš”ì²­í•˜ë©´ ì‹œìŠ¤í…œì´ ì ì ˆí•œ ì„œë²„ë¡œ ì•ˆë‚´í•˜ëŠ”"</strong> êµ¬ì¡°ì…ë‹ˆë‹¤.</p>

    <h3>1.1 êµ¬ì„± ìš”ì†Œ</h3>
    <ul>
        <li><strong>URdExperienceDefinition (Primary DataAsset):</strong>
            <ul>
                <li>ë˜ì „ì˜ "ì»¨ì…‰"ì„ ì •ì˜í•˜ëŠ” ë°ì´í„° ì—ì…‹ì…ë‹ˆë‹¤.</li>
                <li>ì†ì„±: <span class="tag-badge">Experience ID (Tag)</span>, <code>Target IP</code>,
                    <code>Target Map</code>, <code>Loading Screen Widget</code></li>
            </ul>
        </li>
        <li><strong>URdSessionSubsystem:</strong>
            <ul>
                <li><code>UGameInstanceSubsystem</code> ìƒì†</li>
                <li>Tagë¥¼ ë°›ì•„ í•´ë‹¹ Experience ì—ì…‹ì„ ì°¾ê³ , ì •ì˜ëœ UIë¥¼ ë„ìš´ í›„ ì´ë™(Travel)ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.</li>
            </ul>
        </li>
        <li><strong>ARdLevelTransferVolume:</strong>
            <ul>
                <li>íŠ¸ë¦¬ê±° ì—­í• . <strong>ì˜¤ì§ 'Tag' ì •ë³´ë§Œ ê°€ì§‘ë‹ˆë‹¤.</strong> (ì˜ˆ: <code>Exp.Dungeon.Fire</code>)</li>
            </ul>
        </li>
    </ul>

    <h2>2. ìƒì„¸ êµ¬í˜„ ì›Œí¬í”Œë¡œìš° (Detailed Workflow)</h2>

    <h3>Step 1: ë°ì´í„° ì¤€ë¹„ (Editor)</h3>
    <p>ê¸°íšìê°€ ì—ë””í„°ì—ì„œ <code>URdExperienceDefinition</code> ì—ì…‹ì„ ìƒì„±í•©ë‹ˆë‹¤.</p>
    <div class="box">
        <h4>Asset: DA_Exp_FireDungeon</h4>
        <ul>
            <li><strong>Experience ID:</strong> <code>Exp.Dungeon.Fire</code></li>
            <li><strong>Target IP:</strong> "127.0.0.1:7777"</li>
            <li><strong>Loading Screen:</strong> <code>WBP_Loading_Fire</code> (ë¶ˆíƒ€ëŠ” í…Œë§ˆ)</li>
        </ul>
    </div>

    <h3>Step 2: íŠ¸ë¦¬ê±° ì§„ì…</h3>
    <p>í”Œë ˆì´ì–´ê°€ ë³¼ë¥¨ì— ì§„ì…í•˜ë©´ íƒœê·¸ ê¸°ë°˜ìœ¼ë¡œ ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.</p>
    <pre><code>// ARdLevelTransferVolume::OnOverlap
const FGameplayTag TargetTag = GameplayTags::Exp_Dungeon_Fire;
// IPì£¼ì†Œë‚˜ ë§µì´ë¦„ì„ ëª°ë¼ë„ ë¨
GetGameInstance()->GetSubsystem<URdSessionSubsystem>()->RequestExperience(TargetTag);</code></pre>

    <h3>Step 3: ì„¸ì…˜ ì„œë¸Œì‹œìŠ¤í…œì˜ Experience ì²˜ë¦¬</h3>
    <p>ì„œë¸Œì‹œìŠ¤í…œì´ "ê²½í—˜ ì „í™˜" í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.</p>
    <ol>
        <li><strong>Asset Lookup:</strong> <code>AssetManager</code>ë¥¼ í†µí•´ <code>Exp.Dungeon.Fire</code> íƒœê·¸ë¥¼ ê°€ì§„ ì—ì…‹ ê²€ìƒ‰</li>
        <li><strong>UI Transition:</strong> ì—ì…‹ì— ì •ì˜ëœ <code>WBP_Loading_Fire</code> ìœ„ì ¯ ìƒì„± ë° Viewport ì¶”ê°€</li>
        <li><strong>Data Persist:</strong> <code>GsNetworkManager</code>(TCP) ì—°ê²° ìƒíƒœ ë³´ì¡´ ì²˜ë¦¬</li>
        <li><strong>ClientTravel:</strong> ì—ì…‹ì˜ <code>TargetIP</code>ë¡œ <code>ClientTravel</code> ì‹¤í–‰</li>
    </ol>

    <h3>Step 4: ëª©ì ì§€ ë„ì°©</h3>
    <ul>
        <li>ì„œë²„ ì ‘ì† ì„±ê³µ ì‹œ ìºë¦­í„° ìŠ¤í° (UnrealUDP ëª¨ë“œ)</li>
        <li>ë¡œë”© ì™„ë£Œ ì‹ í˜¸ ì‹œ ì„œë¸Œì‹œìŠ¤í…œì´ ë¡œë”© í™”ë©´ ì œê±°</li>
    </ul>

    <h2>3. í´ë˜ìŠ¤ ì„¤ê³„ (Class Design)</h2>

    <div class="box">
        <h3>UCLASS URdExperienceDefinition : public UPrimaryDataAsset</h3>
        <p><strong>Properties:</strong></p>
        <ul>
            <li><code>FGameplayTag ExperienceId</code> (Key)</li>
            <li><code>FString TargetIP</code></li>
            <li><code>TSubclassOf&lt;UUserWidget&gt; LoadingScreenWidget</code></li>
        </ul>
    </div>

    <div class="box">
        <h3>UCLASS URdSessionSubsystem : public UGameInstanceSubsystem</h3>
        <p><strong>Functions:</strong></p>
        <ul>
            <li><code>RequestExperience(FGameplayTag ExperienceTag)</code></li>
        </ul>
    </div>

    <h2>4. ê²€ì¦ ê³„íš (Verification)</h2>
    <ol>
        <li><strong>ë°ì´í„° ì—ì…‹ ìƒì„±:</strong> í…ŒìŠ¤íŠ¸ìš© Experience ì—ì…‹(DA_Test) ìƒì„±</li>
        <li><strong>ë³¼ë¥¨ ì„¤ì •:</strong> ë ˆë²¨ì— ë³¼ë¥¨ ë°°ì¹˜ í›„ DA_Testì˜ íƒœê·¸ í• ë‹¹</li>
        <li><strong>ì§„ì… í…ŒìŠ¤íŠ¸:</strong> ì…ì¥ ì‹œ ì§€ì •ëœ 'í…ŒìŠ¤íŠ¸ìš© ë¡œë”© í™”ë©´'ì´ ëœ¨ëŠ”ì§€ í™•ì¸</li>
        <li><strong>ì´ë™ í™•ì¸:</strong> ì§€ì •ëœ IPë¡œ ì •ìƒ ì´ë™ ë˜ëŠ”ì§€ í™•ì¸</li>
    </ol>

</body>

</html>